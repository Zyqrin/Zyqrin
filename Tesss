-------------------------------------------------
-- PANDA DEVELOPMENT CONFIG
-------------------------------------------------
local PANDA_API_KEY = "0da4700e-6a8a-4894-b920-cd286eb8c343"

-------------------------------------------------
-- SERVICES
-------------------------------------------------
local HttpService = game:GetService("HttpService")
local Analytics = game:GetService("RbxAnalyticsService")

-------------------------------------------------
-- STATE
-------------------------------------------------
local isPremium = false
local expiryText = "N/A"

-------------------------------------------------
-- GET USER KEY & HWID
-------------------------------------------------
local USER_KEY = getgenv().PANDA_KEY
local HWID = Analytics:GetClientId()

-------------------------------------------------
-- VALIDATE KEY (ONLY IF EXISTS)
-------------------------------------------------
if USER_KEY and USER_KEY ~= "" then
    local success, response = pcall(function()
        return HttpService:PostAsync(
            "https://api.pandadevelopment.net/v1/validate",
            HttpService:JSONEncode({
                api_key = PANDA_API_KEY,
                license = USER_KEY,
                hwid = HWID
            }),
            Enum.HttpContentType.ApplicationJson
        )
    end)

    if success then
        local data = HttpService:JSONDecode(response)
        if data.valid == true then
            isPremium = true
            expiryText = data.expires or "Lifetime"
        end
    end
end

-------------------------------------------------
-- LOAD WINDUI
-------------------------------------------------
local WindUI = loadstring(game:HttpGet(
    "https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"
))()

local Window = WindUI:CreateWindow({
    Title = "Zyqrin Hub",
    Icon = "lock",
    Author = isPremium and ("Premium ðŸ’Ž | "..expiryText) or "Free ðŸ†“"
})

local Tab = Window:Tab({
    Title = "Features",
    Icon = "star"
})

-------------------------------------------------
-- FREE FEATURE (SEMUA BISA)
-------------------------------------------------
Tab:Toggle({
    Title = "Free Toggle Example",
    Desc = "Bisa dipakai semua user",
    Value = false,
    Callback = function(v)
        print("Free Toggle:", v)
    end
})

-------------------------------------------------
-- PREMIUM SECTION
-------------------------------------------------
Tab:Section({
    Title = "Premium Toggles"
})

-------------------------------------------------
-- FREE USER (LIHAT SAJA, TERKUNCI)
-------------------------------------------------
if not isPremium then
    Tab:Label({
        Text = "ðŸ”’ Auto Farm (Premium)"
    })
    Tab:Label({
        Text = "ðŸ”’ Auto Hit (Premium)"
    })
    Tab:Label({
        Text = "ðŸ”’ Auto Teleport (Premium)"
    })
end

-------------------------------------------------
-- PREMIUM USER (TOGGLE ASLI)
-------------------------------------------------
if isPremium then
    Tab:Toggle({
        Title = "Auto Farm",
        Desc = "Premium Toggle",
        Value = false,
        Callback = function(v)
            print("Auto Farm:", v)
        end
    })

    Tab:Toggle({
        Title = "Auto Hit",
        Desc = "Premium Toggle",
        Value = false,
        Callback = function(v)
            print("Auto Hit:", v)
        end
    })

    Tab:Toggle({
        Title = "Auto Teleport",
        Desc = "Premium Toggle",
        Value = false,
        Callback = function(v)
            print("Auto Teleport:", v)
        end
    })
end

-------------------------------------------------
-- STATUS
-------------------------------------------------
Tab:Section({ Title = "Status" })
Tab:Label({
    Text = isPremium and "Status: PREMIUM ðŸ’Ž" or "Status: FREE ðŸ†“ (Locked)"
})
